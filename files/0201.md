
## 🧠 Python 列表 / 元组操作技巧与切片全攻略


### 一、列表（List）基础与进阶操作

#### 1. 列表创建方式

```python
a = [1, 2, 3]
b = list(range(5))  # [0, 1, 2, 3, 4]
c = [i**2 for i in range(5)]  # 列表推导式
```

#### 2. 列表是**可变类型**，支持原地修改

```python
a[0] = 100  # 修改
a.append(4)  # 添加
a.insert(1, 200)  # 插入
a.remove(2)  # 删除第一个匹配的元素
a.pop()  # 删除最后一个
```

---

#### 3. 列表的操作技巧

| 操作 | 示例 | 说明 |
|------|------|------|
| 求和 | `sum(lst)` | 所有元素求和 |
| 最大/最小 | `max(lst)` / `min(lst)` | 快速获取极值 |
| 排序 | `sorted(lst)` / `lst.sort()` | 返回新列表 / 原地排序 |
| 反转 | `lst[::-1]` / `lst.reverse()` | 新建或原地反转 |
| 去重 | `list(set(lst))` | 但会打乱原顺序 |
| 统计次数 | `lst.count(x)` | 某元素出现次数 |

---

### 二、元组（Tuple）基础与操作技巧

#### 1. 元组定义方式

```python
t = (1, 2, 3)
singleton = (42,)  # 单个元素必须加逗号
```

#### 2. 元组是**不可变类型**，创建后无法修改

```python
t[0] = 10  # ❌ 报错：元组不可变
```

但是它支持：

- 读取、遍历、切片
- 嵌套、解包、组合操作

#### 3. 元组适用场景

- 返回多个值
- 字典的键
- 不希望被修改的只读数据

```python
def get_point():
    return (100, 200)
```

---

### 三、切片（Slicing）是门艺术

#### 语法：
```python
序列[start:stop:step]
```

- `start`: 起始索引，默认为 0
- `stop`: 终止索引（不包含）
- `step`: 步长，默认为 1

```python
a = [0, 1, 2, 3, 4, 5]
a[1:4]  # [1, 2, 3]
a[:3]   # [0, 1, 2]
a[::2]  # [0, 2, 4]
a[::-1] # [5, 4, 3, 2, 1, 0]
```

---

### 四、进阶切片技巧（推荐收藏！）

#### 1. 获取列表最后一个元素

```python
a[-1]
```

#### 2. 获取倒数第 N 个元素

```python
a[-N]
```

#### 3. 快速复制一个列表（深拷贝）

```python
b = a[:]  # 生成一个新列表（不是引用）
```

#### 4. 删除中间一段元素

```python
a[2:5] = []  # 删除下标 2 到 4 的元素
```

#### 5. 步长为负数，反转列表

```python
a[::-1]  # 和 a.reverse() 效果一致，但不会修改原列表
```

#### 6. 列表插入多个值（切片赋值）

```python
a[1:1] = [9, 9, 9]  # 在下标 1 处插入三个 9
```

---

### 五、列表与元组的转换

```python
list((1, 2, 3))  # 转换为列表
tuple([1, 2, 3])  # 转换为元组
```

---

### 六、列表浅拷贝 vs 深拷贝

```python
import copy

a = [[1, 2], [3, 4]]
b = a[:]         # 浅拷贝：a 和 b 的子列表是共享的
c = copy.deepcopy(a)  # 深拷贝：完全独立
```

---

### 七、Pythonic 的写法：解包与 zip

#### 多值赋值（解包）

```python
a, b, c = [1, 2, 3]
```

#### 交换变量值

```python
x, y = y, x
```

#### zip 遍历两个序列

```python
names = ['Tom', 'Jerry']
ages = [18, 19]

for name, age in zip(names, ages):
    print(name, age)
```

---

### 总结一波：

- 列表是可变、功能最强的数据结构之一；
- 元组不可变、轻量、适合固定组合数据；
- 切片是 Python 的“艺术语法”，理解好 `start:stop:step` 就能驾驭它；
- 推荐你用 `a[:]` 进行深拷贝、`[::-1]` 做反转、`[::2]` 快速隔位选取；
- 牢记解包、zip、切片赋值，这些让你的代码更 Pythonic。

