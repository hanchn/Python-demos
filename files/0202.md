
## ğŸ§  Python å­—å…¸ï¼ˆDictï¼‰å…¨æ”»ç•¥ï¼šéå†ã€æ¨å¯¼å¼ä¸é»˜è®¤å€¼æŠ€å·§


### ä¸€ã€å­—å…¸åŸºç¡€å›é¡¾

```python
student = {
    "name": "Tom",
    "age": 18,
    "grade": "A"
}
```

- å­—å…¸æ˜¯æ— åºï¼ˆ3.6+ç‰ˆæœ¬åæ˜¯**æ’å…¥æœ‰åº**ï¼‰ã€é”®å”¯ä¸€ã€å€¼å¯å˜çš„æ•°æ®ç»“æ„ã€‚
- é”®ï¼ˆkeyï¼‰é€šå¸¸æ˜¯ä¸å¯å˜ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•´æ•°ã€å…ƒç»„ï¼‰ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ã€‚

---

### äºŒã€å­—å…¸éå†ï¼ˆfor å¾ªç¯æŠ€å·§ï¼‰

#### éå†æ‰€æœ‰é”®ï¼š

```python
for key in student:
    print(key, student[key])
```

æˆ–æ˜¾å¼ï¼š

```python
for key in student.keys():
    ...
```

#### éå†æ‰€æœ‰å€¼ï¼š

```python
for value in student.values():
    print(value)
```

#### åŒæ—¶éå†é”®å’Œå€¼ï¼ˆæœ€å¸¸ç”¨ï¼ï¼‰ï¼š

```python
for key, value in student.items():
    print(f"{key} -> {value}")
```

---

### ä¸‰ã€å­—å…¸æ¨å¯¼å¼ï¼ˆDict Comprehensionï¼‰

å°±åƒåˆ—è¡¨æ¨å¯¼å¼é‚£æ ·ï¼Œå­—å…¸ä¹Ÿå¯ä»¥ç”¨æ¨å¯¼å¼å¿«é€Ÿåˆ›å»ºï¼š

```python
squares = {x: x**2 for x in range(5)}
# ç»“æœï¼š{0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
```

ğŸ“Œ å¸¸è§åº”ç”¨ï¼š

#### 1. åè½¬é”®å€¼å¯¹ï¼š

```python
original = {"a": 1, "b": 2}
reversed_dict = {v: k for k, v in original.items()}
```

#### 2. æ¡ä»¶è¿‡æ»¤æ„é€ å­—å…¸ï¼š

```python
data = {"a": 1, "b": 0, "c": 3}
filtered = {k: v for k, v in data.items() if v > 0}
```

---

### å››ã€å­—å…¸é»˜è®¤å€¼å¤„ç†æŠ€å·§

#### 1. `get()`ï¼šä¼˜é›…åœ°è®¿é—®é”®

```python
student.get("name")         # æœ‰å€¼è¿”å›å€¼
student.get("score", 0)     # æ²¡æœ‰è¿”å›é»˜è®¤å€¼ 0
```

âœ… é¿å… KeyError é”™è¯¯çš„ç¥å™¨ã€‚

---

#### 2. `setdefault()`ï¼šèµ‹é»˜è®¤å€¼ï¼Œå¦‚æœä¸å­˜åœ¨

```python
student.setdefault("score", 100)
# å¦‚æœ "score" ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ é”®å€¼å¯¹ï¼Œå¦åˆ™ä¸å˜
```

---

#### 3. `collections.defaultdict`ï¼šæ‰¹é‡å¤„ç†é»˜è®¤å€¼çš„åˆ©å™¨

```python
from collections import defaultdict

d = defaultdict(int)
d["a"] += 1   # ä¸å­˜åœ¨çš„é”®è‡ªåŠ¨åˆå§‹åŒ–ä¸º int() â†’ 0ï¼Œå†åŠ  1

# æ›´å¤æ‚çš„åœºæ™¯ï¼š
d2 = defaultdict(list)
d2["group"].append("Tom")
```

ğŸ“Œ é€‚ç”¨äºç»Ÿè®¡ã€åˆ†ç»„èšåˆã€è‡ªåŠ¨æ„é€ åµŒå¥—ç»“æ„ç­‰å¤æ‚åœºæ™¯ã€‚

---

### äº”ã€å­—å…¸å¸¸ç”¨æ“ä½œæŠ€å·§æ€»ç»“

| æ“ä½œ | ç¤ºä¾‹ |
|------|------|
| åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨ | `'name' in student` |
| åˆ é™¤é”® | `del student['age']` |
| åˆå¹¶å­—å…¸ï¼ˆ3.9+ï¼‰ | `d1 | d2` |
| åˆå¹¶å­—å…¸ï¼ˆè€ç‰ˆæœ¬ï¼‰ | `{**d1, **d2}` |
| æ¸…ç©ºå­—å…¸ | `student.clear()` |
| æ‹·è´å­—å…¸ | `copy_dict = student.copy()` |
| é•¿åº¦ç»Ÿè®¡ | `len(student)` |

---

### å…­ã€å­—å…¸ vs JSONï¼ˆå¼€å‘å¸¸è§é™·é˜±ï¼‰

- Python å­—å…¸æ˜¯æ„é€  JSON æ•°æ®çš„åŸºç¡€ï¼Œæ³¨æ„é”®å¿…é¡»æ˜¯**å­—ç¬¦ä¸²ç±»å‹**ï¼›
- JSON æ— æ³•å¤„ç†è‡ªå®šä¹‰å¯¹è±¡ã€å‡½æ•°ã€set ç±»å‹ç­‰ï¼›
- ä½¿ç”¨ `json.dumps()` / `json.loads()` æ¥å¤„ç†å­—ç¬¦ä¸²åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚

```python
import json

data = {"name": "Tom", "age": 18}
s = json.dumps(data)   # å­—å…¸ â†’ JSON å­—ç¬¦ä¸²
d = json.loads(s)      # JSON å­—ç¬¦ä¸² â†’ å­—å…¸
```

---

### ä¸ƒã€å®æˆ˜æ¡ˆä¾‹ï¼šåˆ†ç»„æ•°æ®èšåˆ

```python
from collections import defaultdict

students = [("Aç­", "å°æ˜"), ("Bç­", "å°çº¢"), ("Aç­", "å°å¼ ")]

grouped = defaultdict(list)
for cls, name in students:
    grouped[cls].append(name)

print(grouped)
# è¾“å‡ºï¼š{'Aç­': ['å°æ˜', 'å°å¼ '], 'Bç­': ['å°çº¢']}
```

---

### æ€»ç»“ä¸€æ³¢ï¼š

- å­—å…¸æ˜¯ Python æœ€å¼ºå¤§çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œæ”¯æŒ O(1) æŸ¥æ‰¾ä¸ä¿®æ”¹ï¼›
- éå†æ—¶ `items()` æ˜¯æœ€å®ç”¨çš„æ–¹å¼ï¼›
- `get()`ã€`setdefault()`ã€`defaultdict` è®©ä½ ä¼˜é›…å¤„ç†â€œé”®ä¸å­˜åœ¨â€ï¼›
- æ¨å¯¼å¼è®©ä½ å¿«é€Ÿæ„é€ æ–°å­—å…¸ï¼›
- å®æˆ˜ä¸­å¸¸ç”¨äºè®¡æ•°ã€èšåˆã€åˆ†ç±»ï¼Œæ˜¯æ•°æ®å¤„ç†çš„æ ¸å¿ƒå·¥å…·ã€‚

